spring.application.name=spark-demo
# C?u h�nh c? b?n Spring Boot
server.port=8085

# C?u h�nh PostgreSQL
spring.datasource.url=jdbc:postgresql://localhost:5432/spark_demo_db?currentSchema=public&useSSL=false&connectTimeout=30000&socketTimeout=30000
spring.datasource.username=admin
spring.datasource.password=password
spring.datasource.driver-class-name=org.postgresql.Driver

# C?u h�nh HikariCP
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=10

# C?u h�nh JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
# C?u h�nh autocommit v� isolation level cho PostgreSQL
spring.jpa.properties.hibernate.connection.autocommit=true
spring.jpa.properties.hibernate.connection.isolation=2

# C?u h�nh Kafka
# ??a ch? Kafka broker - khi Spring Boot ch?y LOCAL, Kafka ?ang trong Docker => d�ng localhost
spring.kafka.bootstrap-servers=localhost:9092

# Producer config
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=5
spring.kafka.producer.properties.linger.ms=10
spring.kafka.producer.properties.buffer.memory=33554432
spring.kafka.producer.properties.batch.size=16384
spring.kafka.producer.properties.max.request.size=2097152

# Consumer config
spring.kafka.consumer.group-id=spark-demo-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.enable-auto-commit=true
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.max-poll-records=500

# Common config (n?u c� l?i timeout)
spring.kafka.properties.request.timeout.ms=20000
spring.kafka.properties.retry.backoff.ms=500
spring.kafka.listener.missing-topics-fatal=false


# C?u h�nh Spark (n?u c?n)
spark.master=spark://localhost:7077
spark.driver.host=localhost

# Actuator endpoints cho Prometheus
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true